---
title: Mobile RUM - iOS SDK
sidebarTitle: RUM for iOS
---

The Mobile RUM SDK provides a customizable suite of tools to analyze and optimize the performance of iOS applications. This guide ensures the SDK is initialized and configured for real-time monitoring and telemetry transmission to the Middleware platform throughout the appâ€™s lifecycle. Isolate ANR and network changes, quickly detect application crashes, identify slow or frozen frames and more.

<Note> To see an example of how to deploy the Mobile RUM iOS SDK, navigate to our GitHub repository [here](https://github.com/middleware-labs/middleware-ios).</Note>

# Prerequisites
`iOS version 13`, `macOS version 10_15`, and `tvOS version 13` or above. Check your iOS SDK version with the following command:
```shell Shell
xcodebuild -showsdks
```


# Install & Instrument Your iOS Application

<AccordionGroup>
    <Accordion title="Step 1: Install Swift Package">
        Add the following line in `Package.swift` in `dependencies`

        ```swift Package.swift
            .package(url: "https://github.com/middleware-labs/middleware-ios", from: "1.0.0"),
        ```
    </Accordion>

    <Accordion title="Step 2: Initialize Middleware iOS SDK">
        ```swift swift
            import SwiftUI
            import MiddlewareRum
                        
            @main
            struct YourApp: App {
                init() {
                    do {
                        try MiddlewareRumBuilder()
                            .globalAttributes(["customerId" : "123456"])
                            .target("<target>")
                            .serviceName("Mobile-SDK-iOS")
                            .rumAccessToken("<account-key>")
                            .deploymentEnvironment("PROD")
                            .build()
                    } catch {
                        print("Failed to initialize \(error)")
                    }
                    
                }
                var body: some Scene {
                    WindowGroup {
                        ContentView()
                    }
                }
            }  
        ```
    </Accordion>
</AccordionGroup>

# Custom Configurations

<Accordion title="Logs">
Create Custom logs using the Middleware API

```swift swift
MiddlewareRum.info("Some information")
MiddlewareRum.debug("Some information")
MiddlewareRum.trace("Some information")
MiddlewareRum.warning("Some information")
MiddlewareRum.error("Some information")
MiddlewareRum.critical("Some information")
```
</Accordion>

<Accordion title="Errors to Traces">

Create Custom logs using the Middleware API
```swift swift
MiddlewareRum.addError("Error, unable to process")
```
</Accordion>

<Accordion title="Exceptions">
Create Custom exceptions using the Middleware API
```swift swift
MiddlewareRum.addException(e: NSException(name: NSExceptionName(rawValue: "RuntimeException"), reason: "I am custom exception"))
```
</Accordion>

<Accordion title="Set Your Screen Name">
```swift swift
MiddlewareRum.setScreenName("WebView")
```
</Accordion>

<Accordion title="Set Global Attributes">
```swift swift
MiddlewareRum.setGlobalAttributes(["some": "value"])
```
</Accordion>

<Accordion title="WebView Instrumentation">
Use WebView to run native iOS apps
    ```swift swift
    MiddlewareRum.integrateWebViewWithBrowserRum(view: webView)
    ```
</Accordion>

# Instrumentation Attributes

The following methods can be used for instrumenting & configuring your application.

|                                           |                                                         |
| :-------------------------------------   | :------------------------------------------------ |
| __Method__                                | __Description__ |
| `.rumAccessToken(String)`                 | Sets RUM account access token to authorize client to send telemetry to Middleware |
| `.target(String)`                         | Sets target URL to the location you will send telemetry data to(e.g. [Middleware](https://app.middleware.io/)) |
| `.serviceName(String)`                    | Sets service name for your application|
| `.deploymentEnvironment(String)`          | Sets environment attribute on spans generated by instrumentation(e.g. `PROD` & `DEV`) |
| `.disableCrashReportingInstrumentation()` | Disable crash reporting (which is enabled by default) |
| `.disableNetworkMonitoring()`             | Disable HTTP Instrumentation (which is enabled by default) |
| `.disableSlowRenderingDetection()`	    | Disable slow/frozen frame renders (which is enabled by default) |
| `.slowFrameDetectionThresholdMs(Double)`	| Sets default polling for slow render detection. Default value is `16.7` milliseconds|
| `.frozenFrameDetectionThresholdMs(Double)`| Sets default polling for frozen render detection. Default value is `700` milliseconds |

<Note> Need assistance or want to learn more about Middleware? Contact us at support[at]middleware.io. </Note>