---
title: Mobile RUM - iOS SDK
sidebarTitle: RUM for iOS
---

# Prerequisites
`iOS SDK version ----` or above. Check your iOS SDK version with the following command:
```shell Shell
xcodebuild -showsdks
```


# Instrument Your iOS Application

<Accordion title="Step 1: Configure `Package.swift`">
    Add the following line in `Package.swift` in `dependencies`

    ```swift Package.swift
        .package(url: "https://github.com/middleware-labs/middleware-ios", from: "1.0.0"),
    ```
</Accordion>

<Accordion title="Step 2: Initialize Middleware iOS SDK">
    ```swift swift
        import SwiftUI
        import MiddlewareRum
                    
        @main
        struct YourApp: App {
            init() {
                do {
                    try MiddlewareRumBuilder()
                        .globalAttributes(["customerId" : "123456"])
                        .target("<target>")
                        .serviceName("Mobile-SDK-iOS")
                        .projectName("Mobile-SDK-iOS")
                        .rumAccessToken("<account-key>")
                        .deploymentEnvironment("PROD")
                        .build()
                } catch {
                    print("Failed to initialize \(error)")
                }
                
            }
            var body: some Scene {
                WindowGroup {
                    ContentView()
                }
            }
        }  
    ```
</Accordion>

# Custom Configurations

<Accordion title="Custom Logging">
Create Custom logs using the Middleware API

```swift swift
    MiddlewareRum.info("Some information")
    MiddlewareRum.debug("Some information")
    MiddlewareRum.trace("Some information")
    MiddlewareRum.warning("Some information")
    MiddlewareRum.error("Some information")
    MiddlewareRum.critical("Some information")
```
</Accordion>

<Accordion title="Custom Errors to Traces">
```swift swift
    MiddlewareRum.addError("Unable to process I am error")
```
</Accordion>

<Accordion title="Custom Exceptions">
```swift swift
    MiddlewareRum.addException(e: NSException(name: NSExceptionName(rawValue: "RuntimeException"), reason: "I am custom exception"))
```
</Accordion>

<Accordion title="Set Your Screen Name">
```swift swift
    MiddlewareRum.setScreenName("WebView")
```
</Accordion>

<Accordion title="Set Global Attributes">
```swift swift
    MiddlewareRum.setGlobalAttributes(["some": "value"])
```
</Accordion>

<Accordion title="WebView Instrumentation">
    MiddlewareRum.integrateWebViewWithBrowserRum(view: webView)
</Accordion>

# Instrumentation Attributes

The following methods can be used for instrumenting & configuring your application.

|                                           |                                                         |
| :-------------------------------------   | :------------------------------------------------: |
| __Method__                                | __Description__ |
| `.rumAccessToken(String)`                 | Sets the RUM account access token to authorize client to send telemetry data to Middleware |
| `.target(String)`                         | Sets the target URL to which you want to send telemetry data. For example - Unified Observability Platform - Middleware
| `.serviceName(String)`                    | Sets the service name for your application. This can be used further for filtering by service name.|
| `.projectName(String)`                    | Sets the project name for your application. |
| `.deploymentEnvironment(String)`          | Sets the environment attribute on the spans that are generated by the instrumentation. For Example - PROD - DEV |
| `.disableCrashReportingInstrumentation()` | Disable crash reporting. By default it is enabled. |
| `.disableNetworkMonitoring()`             | Disable HTTP Instrumentation. By default it is enabled. |
| `.disableSlowRenderingDetection()`	    | Disable slow or frozen frame renders. By default it is enabled. |
| `.slowFrameDetectionThresholdMs(Double)`	| Sets the default polling for slow render detection. Default value in milliseconds is 16.7 |
| `.frozenFrameDetectionThresholdMs(Double)`| Sets the default polling for slow render detection. Default value in milliseconds is 700 |