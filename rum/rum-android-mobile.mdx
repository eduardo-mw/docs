---
title: "Mobile RUM - Android SDK"
sidebarTitle: "Mobile RUM"
---

# Overview
The Mobile RUM SDK provides a customizable suite of tools to analyze and optimize the performance of Android applications. This guide ensures the SDK is initialized and configured for real-time monitoring and telemetry transmission to the Middleware platform throughout the app's lifecycle. Isolate ANR and network changes, quickly detect application crashes, identify slow or frozen frames and more.

# Prerequisites

----------add Prerequisites here-------------

# Install

### Step 1: Install Middleware Android SDK

```java Java
implementation 'io.middleware.android:sdk:+'
```

### Step 2: Add Application Instrumentation Config

```Java Java
class MyApplication extends Application {
   private final String targetUrl = "<target-url>";
   private final String rumAccessToken = "<your-access-token>";

   @Override
   public void onCreate() {
      super.onCreate();

    Middleware.builder()
        .setTarget(targetUrl)
        .setServiceName("sample-android-app-1")
        .setProjectName("Mobile-SDK-Android")
        .setRumAccessToken(rumAccessToken)
        .setSlowRenderingDetectionPollInterval(Duration.ofMillis(1000))
        .setDeploymentEnvironment("PROD")
        .build(this);
   }
}
```

#### Modify Configuration Methods

Understand the behavior of your RUM Android application with the following methods and set particular attributes related to telemetry ingestion, monitoring, and instrumentation.

| Method | Description |
| :---- |  :--------: | 
| `setRumAccessToken(String)` | Authorizes client to send telemetry to Middleware |
| `setTarget(String)` | Sets target URL to recieve telemetry from |
| `setService(String)` | Sets the service name of your application |
| `setDeploymentEnvironment(String)` | Sets environment attribute on spans generated by instrumentation ( e.g. `PROD`, `DEV`) |
| `disableCrashReporting()` | Disables crash reporting which is enabled by default |
| `disableAnrDetection()` | Disable Application Not Responding (ANR) detection which is enabled by default |
| `disableNetworkMonitor()` | Disable network change detection which is enabled by default |
| `disableSlowRenderingDetection()` | Disable slow or frozen frame render detection which is enabled by default |
| `setSlowRenderingDetectionPollInterval(Duration)` | Sets the default polling for slow or frozen render detection. Default detection interval is 1000 milliseconds |



### Step 3: HTTP Instrumentation Config [Optional]

Integrate with OkHTTP3 to monitor HTTP events across user devices.

```java OkHTTP3
private Call.Factory buildOkHttpClient(Middleware middleware) {
   return middleware.createRumOkHttpCallFactory(new OkHttpClient());
}
```

# Manually Instrument Android Application

### Step 1: Set Global Attributes

Global attributes serve as metadata or contextual information that can be attached to telemetry, traces, or logs collected by the instrumentation framework or SDK. They are key-value pairs that provide additional details about the application, device, user session, or environment.

```java Java
Middleware.builder()
        .setGlobalAttributes(
            Attributes.builder()
                    .put("key", "value")
                    .put(StandardAttributes.APP_VERSION, BuildConfig.VERSION_NAME)
                    .build());
```

<Accordion title="Send Custom Events">
  Send custom events and workflows using `addEvent` and `startWorkflow` APIs

  #### Send Custom Events
    ```java Java
    Middleware.getInstance().addEvent("You clicked on Button", BUTTON_ATTRIBUES);
    ```

  #### Start Custom Event Workflow
    ```java Java
    Span loginWorkflow = Middleware.getInstance().startWorkflow("User Login Flow");
    ```

  #### End Custom Event Workflow
    ```java Java
    loginWorkflow.end();
    ```

</Accordion>

<Accordion title="Configure Error Reporting">
  Use `addException(Throwable)` to report exceptions, errors, and display messages on the Middleware dashboard
  ```java Java
  Middleware.getInstance().addException(new RuntimeException("Something went wrong!"), Attributes.empty())
  ```
</Accordion>

<Accordion title="Create Custom Logs">
  Add custom logs to display on your Middleware dashboard such as debug, error, warning, and info 
  ```java Java
  Middleware logInstance = Middleware.getInstance();
  logInstance.d("TAG", "I am debug");
  logInstance.e("TAG", "I am error");
  logInstance.i("TAG", "I am info");
  logInstance.w("TAG", "I am warning");
  ```
  
</Accordion>
