---
title: "Ruby"
---
<span style={{
    background: "url(https://img.shields.io/github/v/release/middleware-labs/ruby-gem) no-repeat",
    width: "125px",
    height: "20px",
    display: "inline-block",
}}/>

| Traces | Metrics | App Logs | Custom Logs | Profiling |
| :----: | :-----: | :------: | :---------: | :-------: |
| ✅ | ✖️ | ✖️ | ✖️ | ✅ |

This guide walks you through setting up Application Performance Monitoring (APM) on a Ruby application. These instructions can also be found on the Installation page in your Middleware Account. View example code [here](https://github.com/middleware-labs/demo-apm/tree/master/ruby).

# Prerequisites

<Steps>

  <Step title="MW Host Agent">
   Middleware Host Agent (MW Agent). To install the MW Agent, see our <a href="https://docs.middleware.io/docs/agent-installation/overview"> installation guide</a>. 
  </Step>

  <Step title="Ruby Version">
    `Ruby version 3.0.0`. Check your Ruby version with the following command:
    ```bash Shell
    ruby --version
    ```
  </Step>

</Steps>

# Install

<Accordion title="Step 1: Add Gems to Your Gemfile">

<Tabs>
  <Tab title="Linux Gemfile">
    ```ruby Ruby
       gem 'opentelemetry-sdk'
       gem 'opentelemetry-exporter-otlp'
       gem 'opentelemetry-instrumentation-all'
       gem 'pyroscope'
       gem 'middleware_apm_linux', '~> 2.1.0'
    ```
  </Tab>
  <Tab title="Windows Gemfile">
    ```ruby Ruby
        gem 'opentelemetry-sdk'
        gem 'opentelemetry-exporter-otlp'
        gem 'opentelemetry-instrumentation-all'
        gem 'pyroscope'
        gem 'middleware_apm_windows', '~> 2.1.0'
    ```
  </Tab>
</Tabs>
</Accordion>

<Accordion title="Step 2: Import Tracker">

<Tabs>
  <Tab title="Linux Environment">
    ```ruby Ruby
        require 'middleware/ruby_gem_linux'
        Middleware::RubyGem.init
    ```
  </Tab>
  <Tab title="Windows Environment">
    ```ruby Ruby
        require 'middleware/ruby_gem_windows'
        Middleware::RubyGem.init
    ```
  </Tab>
</Tabs>
</Accordion>

<Accordion title="Step 3: Capture Application Data">
  <AccordionGroup>
      <Accordion title="Traces">
      
      ```bash Shell
      OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:9320 \ 
      OTEL_SERVICE_NAME="<Your Service Name>" \ 
      OTEL_RESOURCE_ATTRIBUTES=project.name="<Your Project Name>" \ 
      MW_API_KEY=<Your API Key> \ 
      <YOUR COMMAND> 
      ```
      </Accordion>

      <Accordion title="Profiling">
      Application Profiling is auto-configured upon completion of Step 2.
      </Accordion>

  </AccordionGroup>
</Accordion>

<Note> Need assistance or want to learn more about Middleware? Contact us at support[at]middleware.io. </Note>